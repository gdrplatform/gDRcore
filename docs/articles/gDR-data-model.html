<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="gDRcore">
<title>gDR -- data model • gDRcore</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="gDR -- data model">
<meta property="og:description" content="gDRcore">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gDRcore</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/gDRcore.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/gDR-annotation.html">gDR annotation</a>
    <a class="dropdown-item" href="../articles/gDR-data-model.html">gDR -- data model</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/gdrplatform/gDRcore/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>gDR -- data model</h1>
                        <h4 data-toc-skip class="author">gDR team</h4>
                  <a class="author_email" href="mailto:#"></a><a href="mailto:gdr-support-d@gene.com" class="email">gdr-support-d@gene.com</a>
      
                  
      
      <small class="dont-index">Source: <a href="https://github.com/gdrplatform/gDRcore/blob/HEAD/../../vignettes/gDR-data-model.Rmd" class="external-link"><code>../../vignettes/gDR-data-model.Rmd</code></a></small>
      <div class="d-none name"><code>gDR-data-model.Rmd</code></div>
    </div>

    
        <div class="abstract">
      <p class="abstract">Abstract</p>
      <p>This vignette comprehensively describes the data model used in
      the gDRsuite.</p>
    </div>
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette is dedicated to providing an in-depth exploration of
the underlying data model employed in the gDR suite, with a focus on the
versatile <em><a href="https://bioconductor.org/packages/3.18/MultiAssayExperiment" class="external-link">MultiAssayExperiment</a></em>
object – the cornerstone of the gDR ecosystem. The vignette delves into
the intricacies of the data model, shedding light on how different
components are organized within the <em><a href="https://bioconductor.org/packages/3.18/MultiAssayExperiment" class="external-link">MultiAssayExperiment</a></em>
object. As the basic and essential object in the gDR, the <em><a href="https://bioconductor.org/packages/3.18/MultiAssayExperiment" class="external-link">MultiAssayExperiment</a></em>
encapsulates the diverse dimensions of drug response data, providing a
unified and coherent framework for analysis. Our primary goal is to
equip users with a detailed understanding of the gDRsuite data model and
its utilization within the <em><a href="https://bioconductor.org/packages/3.18/MultiAssayExperiment" class="external-link">MultiAssayExperiment</a></em>
object. Through practical examples and thorough explanations, we aim to
demonstrate how gDRcore’s core functions and pipeline facilitate
efficient analysis, providing valuable insights into drug response
dynamics. More information about the data processing can be found in the
<em><a href="https://bioconductor.org/packages/3.18/gDRcore" class="external-link">gDRcore</a></em>.</p>
<div class="float">
<img src="data_model.svg" alt="gDR data model"><div class="figcaption">gDR data model</div>
</div>
</div>
<div class="section level2">
<h2 id="general-overview-of-the-data-model">General overview of the data model<a class="anchor" aria-label="anchor" href="#general-overview-of-the-data-model"></a>
</h2>
<p>In the gDR suite, the culmination of drug response data is
encapsulated in the form of a <em><a href="https://bioconductor.org/packages/3.18/MultiAssayExperiment" class="external-link">MultiAssayExperiment</a></em>
object, representing a versatile and cohesive framework for the analysis
of diverse experimental scenarios.</p>
<div class="section level3">
<h3 id="supported-experiments">Supported Experiments:<a class="anchor" aria-label="anchor" href="#supported-experiments"></a>
</h3>
<p>The gDR suite accommodates three primary types of experiments within
the <em><a href="https://bioconductor.org/packages/3.18/MultiAssayExperiment" class="external-link">MultiAssayExperiment</a></em>
object:</p>
<ol style="list-style-type: decimal">
<li><p><code>single-agent</code> experiment: This involves the
assessment of drug responses to a single agent, providing insights into
individual treatment effects.</p></li>
<li><p><code>combination</code> experiments: This explores the
interactions between multiple agents, unraveling the complexities of
combined drug treatments and their effects.</p></li>
<li><p><code>co-dilution</code> experiments: Focused on studying the
effects of diluting concentrations of compounds, codilution experiments
provide valuable data on the concentration-dependent aspects of drug
responses.</p></li>
</ol>
</div>
<div class="section level3">
<h3 id="summarizedexperiment-objects">SummarizedExperiment objects:<a class="anchor" aria-label="anchor" href="#summarizedexperiment-objects"></a>
</h3>
<p>Each experiment within the <em><a href="https://bioconductor.org/packages/3.18/MultiAssayExperiment" class="external-link">MultiAssayExperiment</a></em>
is represented as a <em><a href="https://bioconductor.org/packages/3.18/SummarizedExperiment" class="external-link">SummarizedExperiment</a></em>
object. This encapsulates the essential components necessary for
comprehensive analysis:</p>
<ul>
<li><p><code>assays</code>: Containing the actual data, assays provide a
numerical representation of drug responses and associated experimental
measurements. In gDR, assays are represented by <em><a href="https://bioconductor.org/packages/3.18/BumpyMatrix" class="external-link">BumpyMatrix</a></em>
object.</p></li>
<li><p><code>rowData</code>: Encompassing information related to
features, rowData provides context on the entities being analyzed, such
as drugs, compounds, or concentrations. In gDR, rowData are represented
by <code>DataFrame</code> object from <em><a href="https://bioconductor.org/packages/3.18/S4Vectors" class="external-link">S4Vectors</a></em></p></li>
<li><p><code>colData</code>: Describing the experimental conditions,
colData captures metadata associated with the cell lines, including
tissues, reference division time, and any relevant covariates. In gDR,
colData are represented by <code>DataFrame</code> object from <em><a href="https://bioconductor.org/packages/3.18/S4Vectors" class="external-link">S4Vectors</a></em></p></li>
<li><p><code>metadata</code>: Offering additional information about the
experiment, metadata provides a contextual layer to enhance the
understanding of the experimental setup.</p></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="multiassayexperiment-object">MultiAssayExperiment object<a class="anchor" aria-label="anchor" href="#multiassayexperiment-object"></a>
</h2>
<p>At its core, the <em><a href="https://bioconductor.org/packages/3.18/MultiAssayExperiment" class="external-link">MultiAssayExperiment</a></em>
object is designed to hold a collection of <em><a href="https://bioconductor.org/packages/3.18/SummarizedExperiment" class="external-link">SummarizedExperiment</a></em>
objects, each representing a distinct experiment type within the gDR
suite. This simplicity ensures a clean and efficient organization of
data, facilitating a user-friendly experience.</p>
<p>To extract specific experiments from the <em><a href="https://bioconductor.org/packages/3.18/MultiAssayExperiment" class="external-link">MultiAssayExperiment</a></em>
object, the <code>[[</code> operator can be used For example, to access
the data related to combination experiments, one can use
<code>MAE[["combination"]]</code>, where <code>MAE</code> represents the
<em><a href="https://bioconductor.org/packages/3.18/MultiAssayExperiment" class="external-link">MultiAssayExperiment</a></em>
object.</p>
<p>To gain insights into the available experiments within the <em><a href="https://bioconductor.org/packages/3.18/MultiAssayExperiment" class="external-link">MultiAssayExperiment</a></em>
object, the <code><a href="https://github.com/waldronlab/MultiAssayExperiment/reference/MultiAssayExperiment-methods.html" class="external-link">MultiAssayExperiment::experiments</a></code> function can
be used.</p>
</div>
<div class="section level2">
<h2 id="summarizedexperiment-object">SummarizedExperiment object<a class="anchor" aria-label="anchor" href="#summarizedexperiment-object"></a>
</h2>
<p>The <em><a href="https://bioconductor.org/packages/3.18/SummarizedExperiment" class="external-link">SummarizedExperiment</a></em>
object emerges as a pivotal structure, integrating drug response data
with essential metadata. This versatile container plays a central role
in the storage of information related to drugs, cell lines, and
experimental conditions, providing a comprehensive foundation for
nuanced analysis within the gDR.</p>
<p>The <em><a href="https://bioconductor.org/packages/3.18/SummarizedExperiment" class="external-link">SummarizedExperiment</a></em>
object in gDR contains four essential components:</p>
<div class="section level3">
<h3 id="assays">Assays<a class="anchor" aria-label="anchor" href="#assays"></a>
</h3>
<p>This section encapsulates the drug response data itself, offering a
numerical representation of experimental measurements. Whether it
involves single-agent studies, combination treatments, or co-dilution
experiments, the assays contain crucial data points for analysis. The
list of available assays for a given gDR experiment can be obtained
using <code><a href="https://rdrr.io/pkg/SummarizedExperiment/man/SummarizedExperiment-class.html" class="external-link">SummarizedExperiment::assayNames</a></code> on the <em><a href="https://bioconductor.org/packages/3.18/SummarizedExperiment" class="external-link">SummarizedExperiment</a></em>
object. The extraction of a specific <code>assay</code> can be done
using <code><a href="https://rdrr.io/pkg/SummarizedExperiment/man/SummarizedExperiment-class.html" class="external-link">SummarizedExperiment::assay</a></code> function,
i.e. <code>SummarizedExperiment::assay(se, "Normalized")</code>, where
<code>se</code> is the <em><a href="https://bioconductor.org/packages/3.18/SummarizedExperiment" class="external-link">SummarizedExperiment</a></em>
object, and <code>Normalized</code> is the name of the assay within the
experiment.</p>
<p>The gDR experiments contain two sets of assays. One set is for
single-agent and co-dilution experiments (five basic assays), and
another set is for combinations experiments (five basic assays plus four
– combination-specific).</p>
<p>List of assays (combination-specific assays were marked with the
asterisk):</p>
<ol style="list-style-type: decimal">
<li>RawTreated – stores treated references</li>
<li>Controls – represents untreated, control references</li>
<li>Normalized – represents normalized data to compute RelativeViability
and GRValues (default gDR normalization types)</li>
<li>Averaged – stores averaged replicates computed by the mean and
standard deviation</li>
<li>Metrics – contains fitted response curves</li>
<li>excess (*) – excess data for each pair of concentration values
(represents Bliss excess, HSA excess, and data smoothing values)</li>
<li>all_iso_points (*) stores isobologram points</li>
<li>isobolograms (*) – stores isobologram curves</li>
<li>scores (*) – scores data for each pair of concentration values (HSA
score, Bliss Score, and CI (combination index) scores)</li>
</ol>
<p>All assays are stored as <em><a href="https://bioconductor.org/packages/3.18/BumpyMatrix" class="external-link">BumpyMatrix</a></em>
objects.</p>
<p>Assays represented by numbers 3-9 additionally contain information
about <code>normalization_type</code> to distinguish different metrics
calculated for each normalization type (RelativeViability and GRValues
by default).</p>
<p>In gDR <em><a href="https://bioconductor.org/packages/3.18/BumpyMatrix" class="external-link">BumpyMatrix</a></em>
objects can be easily transformed into the <em><a href="https://CRAN.R-project.org/package=data.table" class="external-link">data.table</a></em>
object using <code><a href="https://gdrplatform.github.io/gDRstyle/reference/convert_se_assay_to_dt.html" class="external-link">gDRutils::convert_se_assay_to_dt</a></code> function.
This function also includes information from the rowData and
colData.</p>
</div>
<div class="section level3">
<h3 id="rowdata">rowData<a class="anchor" aria-label="anchor" href="#rowdata"></a>
</h3>
<p><code>rowData</code> provides context on the features being analyzed,
<code>rowData</code> is dedicated to information about drugs, compounds,
or concentrations with their annotations from the database. Additional
perturbations and replicates might be also stored in the
<code>rowData</code>.</p>
<p><code>rowData</code> can be extracted from the <em><a href="https://bioconductor.org/packages/3.18/SummarizedExperiment" class="external-link">SummarizedExperiment</a></em>
object using <code><a href="https://rdrr.io/pkg/SummarizedExperiment/man/SummarizedExperiment-class.html" class="external-link">SummarizedExperiment::rowData</a></code> function.</p>
</div>
<div class="section level3">
<h3 id="coldata">colData<a class="anchor" aria-label="anchor" href="#coldata"></a>
</h3>
<p><code>colData</code> represents the experimental cell lines. This
includes details about the cell lines and their annotations.</p>
<p><code>colData</code> can be extracted from the <em><a href="https://bioconductor.org/packages/3.18/SummarizedExperiment" class="external-link">SummarizedExperiment</a></em>
object using <code><a href="https://rdrr.io/pkg/SummarizedExperiment/man/SummarizedExperiment-class.html" class="external-link">SummarizedExperiment::colData</a></code> function.</p>
</div>
<div class="section level3">
<h3 id="metadata">metadata<a class="anchor" aria-label="anchor" href="#metadata"></a>
</h3>
<p><code>metadata</code> offers an extra layer of information about the
experiment itself, metadata provides context to enhance comprehension.
This may include details about the experimental design, sources of data,
or any other relevant information that aids in the interpretation of
results.</p>
<p><code>metadata</code> information can be extracted using
<code><a href="https://rdrr.io/pkg/S4Vectors/man/Annotated-class.html" class="external-link">S4Vectors::metadata</a></code> function. In gDR object the metadata
information is stored as a list.</p>
</div>
</div>
<div class="section level2">
<h2 class="unnumbered" id="session-info">Session info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<pre><code><span><span class="co">## R version 4.3.0 (2023-04-21)</span></span>
<span><span class="co">## Platform: x86_64-pc-linux-gnu (64-bit)</span></span>
<span><span class="co">## Running under: Ubuntu 22.04.3 LTS</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so;  LAPACK version 3.10.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">##  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              </span></span>
<span><span class="co">##  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    </span></span>
<span><span class="co">##  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   </span></span>
<span><span class="co">##  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 </span></span>
<span><span class="co">##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            </span></span>
<span><span class="co">## [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: Etc/UTC</span></span>
<span><span class="co">## tzcode source: system (glibc)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">## [1] BiocStyle_2.30.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] vctrs_0.6.5         cli_3.6.3           knitr_1.45         </span></span>
<span><span class="co">##  [4] rlang_1.1.5         xfun_0.42           stringi_1.8.4      </span></span>
<span><span class="co">##  [7] purrr_1.0.2         textshaping_0.3.7   jsonlite_1.8.9     </span></span>
<span><span class="co">## [10] glue_1.8.0          htmltools_0.5.7     ragg_1.2.7         </span></span>
<span><span class="co">## [13] sass_0.4.8          rmarkdown_2.25      evaluate_0.23      </span></span>
<span><span class="co">## [16] jquerylib_0.1.4     fastmap_1.1.1       yaml_2.3.8         </span></span>
<span><span class="co">## [19] lifecycle_1.0.4     memoise_2.0.1       bookdown_0.37      </span></span>
<span><span class="co">## [22] BiocManager_1.30.22 stringr_1.5.1       compiler_4.3.0     </span></span>
<span><span class="co">## [25] fs_1.6.3            systemfonts_1.0.5   digest_0.6.34      </span></span>
<span><span class="co">## [28] R6_2.5.1            magrittr_2.0.3      bslib_0.6.1        </span></span>
<span><span class="co">## [31] tools_4.3.0         pkgdown_2.0.7       cachem_1.0.8       </span></span>
<span><span class="co">## [34] desc_1.4.3</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Bartosz Czech, Arkadiusz Gladki, Marc Hafner, Pawel Piatkowski, Natalia Potocka, Dariusz Scigocki, Janina Smola, Sergiu Mocanu, Marcin Kamianowski, Allison Vuong.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
